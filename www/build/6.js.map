{"version":3,"sources":["../../src/pages/deposit/deposit.module.ts","../../src/pages/deposit/deposit.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DepositPage } from './deposit';\n\n@NgModule({\n  declarations: [\n    DepositPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DepositPage),\n  ], \n}) \nexport class DepositPageModule {}\n \n\n\n// WEBPACK FOOTER //\n// ./src/pages/deposit/deposit.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { TransactionModel } from '../../providers/transactionModel';\nimport { RestAPIServiceProvider } from '../../providers/restapi-service';\nimport { AppConfig } from '../../config/app.config';\nimport { Storage } from '@ionic/storage';\n\n\n/**\n * Generated class for the DepositPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-deposit',\n  templateUrl: 'deposit.html',\n})\nexport class DepositPage {\n  errorLoading: boolean = true;\n  public amountLoaded:boolean;\n  constructor(public navCtrl: NavController, public navParams: NavParams, public userData: TransactionModel,\n    public restApiService: RestAPIServiceProvider, private loadingCtrl: LoadingController,private storage:Storage) {\n  }\n\n  loadAmount() {\n    let self = this;\n    let loader = this.loadingCtrl.create({\n      content: \"Please wait...\"\n    });\n    \n\n    // prepare the json for the user to register in the local DB\n    let transferJsonMsg = {\n      \"userId\": self.userData.loggedInUser, \"receiverUserName\": this.userData.loggedInUserName,\n      \"userName\": \"\", \"receiverWalletAddress\": self.userData.loggedInUserWalletAddress,\n      \"transactionType\": \"LOAD\", \"uniqueTransactionId\": new Date().getTime(), \"amountToTransfer\": this.userData.amount\n    };\n\n    loader.present();\n    // if user is not registered, register the user in the block chain\n    this.restApiService.makeBackendPostRequest(AppConfig.TRANSFERAMOUNT, null,\n      JSON.stringify(transferJsonMsg)).then((result) => {\n        console.log(\"after resgistering in block chain user\");\n        let bcData = JSON.parse(result._body);\n        console.log(\"Response after register--::\" + bcData.data.transactionUniqueID);\n        // assign the block chain user unique address to logged in user\n        if (bcData.data.transactionUniqueID != null) {\n          self.amountLoaded = true;\n          loader.dismiss();\n        } else {\n          console.log(\"block chain reuslt--\" + bcData);\n        }\n\n      }).catch(error => {\n        console.log(\"error : \" + JSON.stringify(error));\n      });\n  }\n\n  redirectToHome() {\n    let self = this;\n    let loader = this.loadingCtrl.create({\n      content: \"Please wait...\"\n    });\n    loader.present();\n    self.restApiService.updateBalance();\n    loader.dismiss();\n    self.navCtrl.setRoot('HomePage');\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/deposit/deposit.ts"],"sourceRoot":""}